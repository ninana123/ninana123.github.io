window.addEventListener("DOMContentLoaded",()=>{const e=document.querySelector(".header__hamburger"),t=document.querySelector(".header__menu"),i=document.querySelectorAll("[data-submenu]"),n=document.querySelector(".modal"),s=document.querySelectorAll("[data-modal]");function c(e="overlay",...t){const i=document.createElement("div"),n=document.body;t.length?i.classList.add(e,...t):i.classList.add(e),n.append(i),n.style.overflow="hidden"}function r(e=".overlay"){document.querySelector(e).remove(),document.body.style.overflow=""}if(e.addEventListener("click",i=>{e.classList.toggle("header__hamburger_active"),t.classList.toggle("header__menu_active"),document.querySelector(".overlay")?r():c()}),i.forEach(e=>{e.addEventListener("click",e=>{e.target.querySelector(".header__submenu").classList.toggle("header__submenu_active")})}),s.forEach(e=>{e.addEventListener("click",()=>{n.classList.toggle("modal_hidden"),n.classList.contains("modal_hidden")?r():c("overlay","overlay_main-content")})}),document.addEventListener("keydown",e=>{"Escape"!==e.code||n.classList.contains("modal_hidden")||(n.classList.toggle("modal_hidden"),r())}),document.addEventListener("click",e=>{!e.target.classList.contains("modal")||n.classList.contains("modal_hidden")||form.classList.contains("loading")||(n.classList.toggle("modal_hidden"),r())}),document.querySelector(".form")){document.querySelector(".form").addEventListener("submit",async function(e){e.preventDefault();let t=function(e){const t=e.querySelectorAll("._req");let i=0;return t.forEach(e=>{!function(e){e.classList.remove("error")}(e),e.classList.contains("_name")?e.value&&e.value.length>=2&&!e.value.match(/\d/)||(l(e),i++):e.classList.contains("_email")&&(e.value.match(/^[\w]{1}[\w-\.]*@[\w-]+\.[a-z]{2,4}$/i)||(l(e),i++))}),i}(form),i=new FormData(form);if(0==t){form.classList.add("loading"),document.querySelector(".overlay")||c("overlay","overlay_main-content");let e=await fetch("sendmail.php",{method:"POST",body:i});if(e.ok){let t=await e.json();alert(t.result),form.reset(),form.classList.remove("loading"),n.classList.toggle("modal_hidden"),r()}else{let t=await e.json();alert(t.status)}}})}function l(e){e.classList.add("error")}const a=[["В общем и целом, застал в расплох нашего дизайнера и попросил, чтобы мне сделали презентацию в короткие сроки(очень короткие). Скинул материал и буквально за пару часов все было сделано, причём вся работа была выполнена с учётом всех критериев, которые я обозначил.\n\tДелает быстро, аккуратно и со вкусом.\n\tРаботой доволен.","Арсен Залялов","https://vk.com/ikonsd"],[" Сделал очень крутой эскиз для первой и очень важной для меня татуировки! До мелочей все детали выделил, отнёсся к моим пожеланиям очень ответственно! Короче, Вова крутой)\n\tЛюблю Вову ❤","Диана Рузанова","https://vk.com/rzznvv"],["Очень сильно помог в создании предвыборного видеоролика - сюжет, съемка, звук, монтаж. Работа вышла отличной, очень добротно и здорово сделанной","Булат Абзалов","https://vk.com/sabotazhnik"],[" Обратились к Владимиру с просьбой вставить логотипы на флаг. В результате, получили усовершенствованный переделанный с нашими критериями эскиз. Вышло очень эстетично🙈😍 к тому же, работа была сделана очень быстро!\n\tРекомендую, обязательно обращайтесь к нему без сомнений😎👌","Алия Абзалова","https://vk.com/itsabzalova"],["Заказывал у Владимира смайлики для твича. Сделал максимально быстро и по ТЗ. Управился меньше, чем за 30 минут. работой абсолютно доволен,\n\t\t\tпользуюсь до сих пор. 💜","Егор Бледнов","https://vk.com/oliver.white"]];class o{constructor(e,t){this.clientDesignReviews=e,this.parent=document.querySelector(t),this.clientReviewsLength=this.clientDesignReviews.length,this.currentSlide=this.parent.querySelector(".client-review__current-slide"),this.totalSlide=this.parent.querySelector(".client-review__total-slide"),this.count=1}addReviews(){this.clientDesignReviews.forEach((e,t)=>{let i=document.createElement("div");if(i.classList.add("client-review__info","emergence-right"),i.innerHTML=`<div class="client-review__comment">${e[0]}</div>\n\t\t\t\t\t<div class="client-review__name"><a href="${e[2]}" class="client-review__link" target='_blank'">${e[1]}</a></div>`,this.parent.append(i),0==t){const e=this.parent.querySelector(".client-review__info");e.classList.add("client-review__info_active"),e.classList.remove("emergence-right")}this.currentSlide.innerHTML=`0${this.count}`,this.totalSlide.innerHTML=`0${this.clientReviewsLength}`})}swipeRight(){if(this.count<this.clientReviewsLength){let e=this.parent.querySelector(".client-review__info_active"),t=e.nextElementSibling;t.classList.remove("emergence-right"),t.classList.add("client-review__info_active"),e.classList.remove("client-review__info_active"),e.classList.add("emergence-left"),this.count++,this.currentSlide.innerHTML=`0${this.count}`}}swipeLeft(){if(1!=this.count){let e=this.parent.querySelector(".client-review__info_active"),t=e.previousElementSibling;t.classList.remove("emergence-left"),t.classList.add("client-review__info_active"),e.classList.remove("client-review__info_active"),e.classList.add("emergence-right"),this.count--,this.currentSlide.innerHTML=`0${this.count}`}}}if(document.querySelector(".client-design-reviews")){let e=".client-design-reviews",t=new o(a,e);t.addReviews(),document.querySelector(e).querySelector("[data-swipe=right]").addEventListener("click",()=>{t.swipeRight()}),document.querySelector(e).querySelector("[data-swipe=left]").addEventListener("click",()=>{t.swipeLeft()})}if(document.querySelector(".client-illustration-reviews")){let e=".client-illustration-reviews",t=new o(a,e);t.addReviews(),document.querySelector(e).querySelector("[data-swipe=right]").addEventListener("click",()=>{t.swipeRight()}),document.querySelector(e).querySelector("[data-swipe=left]").addEventListener("click",()=>{t.swipeLeft()})}if(document.querySelector(".client-video-edits-reviews")){let e=".client-video-edits-reviews",t=new o(a,e);t.addReviews(),document.querySelector(e).querySelector("[data-swipe=right]").addEventListener("click",()=>{t.swipeRight()}),document.querySelector(e).querySelector("[data-swipe=left]").addEventListener("click",()=>{t.swipeLeft()})}});